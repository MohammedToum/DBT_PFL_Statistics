version: 2

models:
  - name: stg_countries
    description: "Distinct countries derived from club-country mappings."
    columns:
      - name: country_id
        description: "Hash surrogate from country_name."
        tests: [unique, not_null]
      - name: country_name
        description: "Canonical country name."
        tests: [not_null]

  - name: stg_club_country_map
    description: "Normalized club-to-country mapping with a stable club key."
    columns:
      - name: club_key
        tests: [not_null]
      - name: club_involved_name
        tests: [not_null]
      - name: country
        tests: [not_null]

  - name: stg_clubs_map
    description: "Legacy cleaned_full_name + normalized club_key for compatibility."
    columns:
      - name: cleaned_full_name
        tests: [not_null]
      - name: club_key
        tests: [not_null]

  - name: stg_unmapped_clubs
    description: "Clubs in transfers that do not map to the reference set."
    columns:
      - name: key_norm
        tests:
          - not_null
